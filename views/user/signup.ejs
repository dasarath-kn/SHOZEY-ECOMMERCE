<%- include('../user/layout/header.ejs')-%>
	
	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				
			</div>
			<div class="row justify-content-center">
				<div class="col-md-12 col-lg-10">
					<div class="wrap d-md-flex">
						<div class="img" style="background-image: url('/images/signup.jpg');">
			      </div>
						<div class="login-wrap p-4 p-md-5">
			      	<div class="d-flex">
			      		<div class="w-100">
			      			<h3 class="mb-4">Sign Up</h3>
							  <% if(message){%>
								  <span id="nameError" style="color: red;"><%= message %></span>
								  <%}
								  else{%><%}%>
			      		</div>
								<div class="w-100">
									<p class="social-media d-flex justify-content-end">
										<a href="" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-facebook"></span></a>
										<a href="" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-twitter"></span></a>
									</p>
								</div>
			      	</div>
							<form action="/show" method="post" class="signin-form">
			      		<div class="form-group mb-3">
			      			<label class="label" for="name">First Name</label>
			      			<input type="text"  id="firstname" class="form-control" placeholder="First name" name="firstname" required >
							  <span id="nameError" style="color: red;"></span>
						</div>
		            <div class="form-group mb-3">
		            	<label class="label" for="password">Last Name</label>
		              <input type="text" id="lastname" class="form-control" placeholder="Last name" required name="lastname">
					  <span id="lastError" style="color: red;"></span>
		            </div>
                    <div class="form-group mb-3">
		            	<label class="label" for="password">Email</label>
		              <input type="email" id="SignUp-mail" class="form-control" placeholder="Email" required name="email">
					  <span id="emailError" style="color: red;"></span>
		            </div>
                    <div class="form-group mb-3">
		            	<label class="label" for="password">Phone Number</label>
		              <input type="phonenumber" id ="number"class="form-control" placeholder="Phone Number"  name="phonenumber" required>
					  <span id="phonenumberError" style="color: red;"></span>
		            </div>
                    <div class="form-group mb-3">
		            	<label class="label" for="password">Password</label>
		              <input type="password" id="SignUp-password" class="form-control" placeholder="Password"  name="password" required>
					  <span id="passwordError" style="color: red;"></span>
		            </div>
					<div class="form-group mb-3">
		            	<label class="label" for="password">Confirm Password</label>
		              <input type="password" id="SignUp-confirmpassword" class="form-control" placeholder="Confirm Password"  name="confirmpassword" required>
					  <span id="confirmpasswordError" style="color: red;"></span>
		            </div>
					<div class="form-group mb-3">
		            	<label class="label" for="password">Referal code</label>
		              <input type="text" id="Referal" class="form-control" placeholder="Referal code"  name="referalcode" >
					  
		            </div>
		            <div class="form-group">
		            	<button type="submit" class="form-control btn btn-primary rounded submit px-3">Sign Up</button>
		            </div>
		            <div class="form-group d-md-flex">
		            	<!-- <div class="w-50 text-left">
			            	<label class="checkbox-wrap checkbox-primary mb-0">Remember Me
									  <input type="checkbox" checked>
									  <span class="checkmark"></span>
										</label>
									</div> -->
									<!-- <div class="w-50 text-md-right">
										<a href="#">Forgot Password</a>
									</div> -->
		            </div>
		          </form>
		          <p class="text-center">You have an already account <a href="/signin">Sign In</a></p>
		        </div>
		      </div>
				</div>
			</div>
		</div>
	</section>
	<script>
		const mail = document.getElementById("SignUp-mail");
	
		mail.addEventListener("input", validateEmail);
		function validateEmail(event) {
			event.preventDefault();
			const email = document.getElementById("SignUp-mail").value;
			const emailPattern = /^[A-Za-z0-9._%+-]+@(gmail|yahoo|icloud)\.com$/;
			if(email.trim()=== ""){
				document.getElementById('emailError').innerHTML = "Please enter a valid Email "
				mail.setCustomValidity("Please enter a valid Email");
				
			}
			else{
			if (!email.match(emailPattern)) {
				document.getElementById("emailError").innerHTML = "Please enter a valid Email";
				mail.setCustomValidity("Please enter a valid Email");
				
			} else {
				document.getElementById("emailError").innerHTML = "";
				mail.setCustomValidity("");
			}
		}
		}
////////////////////////////////////////////////////////////////////
		const phonenumber = document.getElementById('number');
		phonenumber.addEventListener('input',validphonenumber);
		function validphonenumber(){
			const phone=document.getElementById('number').value;
			const phonenumberpattern =/\b\d{10}\b/

;
			if(phone.trim()==""){
				document.getElementById("phonenumberError").innerHTML = "Please enter a valid phonenumber"
				phonenumber.setCustomValidity("Please enter a valid phonenumber");
			}
			if(!phone.match(phonenumberpattern)){
				document.getElementById('phonenumberError').innerHTML="Phonenumber must contain 10 digits";
				phonenumber.setCustomValidity("Phonenumber must contain 10 digits");
			}else{
				document.getElementById('phonenumberError').innerHTML="";
				phonenumber.setCustomValidity("");
			}
		}
////////////////////////////////////////////////////////////////
		const password =document.getElementById("SignUp-password");

		password.addEventListener('input',validpassword);
		function validpassword(){
			const pass= document.getElementById("SignUp-password").value;
			const passwordpattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/


				if(pass.trim()=== ""){
					document.getElementById('passwordError').innerHTML = "Please enter a password"
					password.setCustomValidity("Please enter a password");
				}
				else{
			if(!pass.match(passwordpattern)){
				document.getElementById('passwordError').innerHTML ="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters";
				password.setCustomValidity("Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters");
			}else{
				document.getElementById('passwordError').innerHTML =" "
				password.setCustomValidity("");
			}
		}

		}
	
const confirmpassword = document.getElementById('SignUp-confirmpassword');
confirmpassword.addEventListener('input',validconfirm);
 function validconfirm(){
	const password = document.getElementById("SignUp-password").value
	const confirmpass= document.getElementById("SignUp-confirmpassword").value
	if(!confirmpass.match(password)){
		document.getElementById('confirmpasswordError').innerHTML ="Not matching with password";
		confirmpassword.setCustomValidity("Notmatching");
	}else{
		document.getElementById('confirmpasswordError').innerHTML =" "
		confirmpassword.setCustomValidity("");

	}

 }




const firstname = document.getElementById("firstname");
firstname.addEventListener('input', validname);

function validname() {
    const name = document.getElementById("firstname").value;

    if (name.trim() === "") {
        document.getElementById('nameError').innerHTML = "Please enter a name";
		firstname.setCustomValidity("Please enter a firstname");
    } else {
        const namepattern = /^[A-Za-z0-9]{5,15}$/;
;
        if (!name.match(namepattern)) {
            document.getElementById('nameError').innerHTML = "Firstname must be alphanumeric and between 5-15 characters";
            firstname.setCustomValidity("Invalid name format");
        } else {
            document.getElementById('nameError').innerHTML = "";
            firstname.setCustomValidity("");
        }
    }
}


const lastname = document.getElementById("lastname");
lastname.addEventListener('input',valid);

function valid(){
	const name =document.getElementById('lastname').value;

	if(name.trim() === ""){
		document.getElementById('lastError').innerHTML = "Please enter a name ";
		lastname.setCustomValidity("Please enter a lastname");
	}
	else{
		const namepattern = /^[A-Za-z0-9]{2,10}$/;
		if(!name.match(namepattern)){
		document.getElementById('lastError').innerHTML = "Lastname must be alphanumeric and between 2-10 characters";
		lastname.setCustomValidity("Invalid name format");
		}
		else{
			document.getElementById('lastError').innerHTML = " " ;
			lastname.setCustomValidity("");
		}
	}

}


	</script>

	<%- include('../user/layout/footers.ejs')-%>