<%- include('../user/layout/header.ejs') -%>
	
	<section class="ftco-section">
		<div class="container">
			<div class="row justify-content-center">
				
			</div>
			<div class="row justify-content-center">
				<div class="col-md-12 col-lg-10">
					<div class="wrap d-md-flex">
						<div class="img" style="background-image: url(/images/resetpassword.jpg);">
			      </div>
						<div class="login-wrap p-4 p-md-5">
			      	<div class="d-flex">
			      		<div class="w-100">
			      			<h3 class="mb-4">Reset password</h3>
							  <% if(typeof message !== 'undefined'){ %>
								<span
								  id="er2"
								  style="color: rgb(241, 7, 7); text-align: center"
								  ><%= message %></span
								>
								<% } %>
			      		</div>
						 
								<div class="w-100">
									<p class="social-media d-flex justify-content-end">
										<a href="" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-facebook"></span></a>
										<a href="" class="social-icon d-flex align-items-center justify-content-center"><span class="fa fa-twitter"></span></a>
									</p>
								</div>
			      	</div>
							<form action="/newpassword?id=<%=id%>" method="post" class="signin-form">
								
                                <div class="form-group mb-3">
                                    <label class="label" for="password">Password</label>
                                  <input type="password" class="form-control"  placeholder="Password" value="" id="password" required name="password">
                                  <span id="passwordError" style="color: red;"></span>

                                </div>
                                <div class="form-group mb-3">
                                    <label class="label" for="password"> Confirm Password</label>
                                  <input type="password" class="form-control" id="confirmpassword"  placeholder="Confirm Password" value="" required name="confirmpassword">
                                  <span id="confirmpasswordError" style="color: red;"></span>
                                </div>
		            <div class="form-group">
		            	<button type="submit" class="form-control btn btn-primary rounded submit px-3">Submit</button>
		            </div>
		            <div class="form-group d-md-flex">
		            	<!-- <div class="w-50 text-left">
			            	<label class="checkbox-wrap checkbox-primary mb-0">Remember Me
									  <input type="checkbox" checked>
									  <span class="checkmark"></span>
										</label>
									</div>
									<div class="w-50 text-md-right">
										<a href="/signup">Forgot Password</a>
									</div> -->
		            </div>
		          </form>
		         
			        </div>
		      </div>
				</div>
			</div>
		</div>
	</section>
    <script>
 const password =document.getElementById("password");

password.addEventListener('input',validpassword);
function validpassword(){
    const pass= document.getElementById("password").value;
    const passwordpattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/


        if(pass.trim()=== ""){
            document.getElementById('passwordError').innerHTML = "Please enter a password"
            password.setCustomValidity("Please enter a password");
        }
        else{
    if(!pass.match(passwordpattern)){
        document.getElementById('passwordError').innerHTML ="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters";
        password.setCustomValidity("Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters");
    }else{
        document.getElementById('passwordError').innerHTML =" "
        password.setCustomValidity("");
    }
}

}
    </script>

<script>
    const confirmpassword =document.getElementById("confirmpassword");
   
    confirmpassword.addEventListener('input',validconfirmpassword);
   function validconfirmpassword(){
       const pass= document.getElementById("confirmpassword").value;
       const passwordpattern = document.getElementById("password").value;
   
   
           if(pass.trim()=== ""){
               document.getElementById('confirmpasswordError').innerHTML = "Please enter a password"
               confirmpassword.setCustomValidity("Please enter a password");
           }
           else{
       if(!pass.match(passwordpattern)){
           document.getElementById('confirmpasswordError').innerHTML ="Not matching with password";
       }else{
           document.getElementById('confirmpasswordError').innerHTML =" "
           confirmpassword.setCustomValidity("");
       }
   }
   
   }
       </script>

	<%- include('../user/layout/footers.ejs')-%>